     1                                  [BITS 16]
     2 00000000 B8C007                  mov ax,0x07c0
     3 00000003 8ED8                    mov ds,ax
     4                                  
     5 00000005 B80060                  mov ax,0x6000
     6 00000008 8ED0                    mov ss,ax
     7 0000000A BC0000                  mov sp,0
     8                                  
     9                                  
    10                                  end:
    11 0000000D EBFE                    	jmp end
    12                                  
    13                                  ;prints string in [ds:si] to screen	
    14                                  printStr:
    15 0000000F 60                      	pusha;
    16 00000010 57                      	push di
    17 00000011 06                      	push es
    18 00000012 FC                      	cld;inc si after lodsb
    19                                  loadchr:
    20 00000013 AC                      	lodsb;
    21 00000014 3C00                    	cmp al,0x00;
    22 00000016 7434                    	je printStrFinish;
    23 00000018 3C0A                    	cmp al,0x0A;
    24 0000001A 7415                    	je newline;
    25 0000001C B44E                    	mov ah,0x4e;
    26 0000001E 8B3E[5200]              	mov di,[video_memory_index];
    27 00000022 8E06[5000]              	mov es,[video_memory_base];
    28 00000026 268905                  	mov [es:di],ax;
    29 00000029 47                      	inc di;
    30 0000002A 47                      	inc di;
    31 0000002B 893E[5200]              	mov [video_memory_index],di;
    32 0000002F EBE2                    	jmp loadchr;
    33                                  newline:
    34 00000031 52                      	push dx;
    35 00000032 53                      	push bx;
    36 00000033 50                      	push ax;
    37 00000034 BBA000                  	mov bx,0x00A0;
    38 00000037 011E[5200]              	add [video_memory_index],bx;
    39 0000003B BA0000                  	mov dx,0;
    40 0000003E A1[5200]                	mov ax,[video_memory_index];
    41 00000041 F7F3                    	div bx;
    42 00000043 2916[5200]              	sub [video_memory_index],dx;
    43 00000047 58                      	pop ax;
    44 00000048 5B                      	pop bx;
    45 00000049 5A                      	pop dx;
    46 0000004A EBC7                    	jmp loadchr;
    47                                  printStrFinish:
    48 0000004C 07                      	pop es
    49 0000004D 5F                      	pop di
    50 0000004E 61                      	popa;
    51 0000004F C3                      	ret;
    52                                  
    53 00000050 00B8                    video_memory_base dw 0xb800
    54 00000052 0000                    video_memory_index dw 0x0000
    55 00000054 00<rept>                times 510-($-$$) db 0x00
    56 000001FE 55                      db 0x55
    57 000001FF AA                      db 0xAA
